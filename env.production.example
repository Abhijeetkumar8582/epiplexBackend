# Video Processing API - Production Environment Configuration
# Copy this file to .env and update with your production values
# Command: cp env.production.example .env
# NEVER commit the actual .env file to version control!

# =============================================================================
# REQUIRED SETTINGS
# =============================================================================

# OpenAI API Key (REQUIRED)
# Get your API key from: https://platform.openai.com/api-keys
# Store this securely - consider using a secrets manager in production
OPENAI_API_KEY=your_openai_api_key_here

# =============================================================================
# API SETTINGS
# =============================================================================

API_TITLE=Video Processing API
API_VERSION=1.0.0
API_DESCRIPTION=Production-ready video processing API

# =============================================================================
# SERVER SETTINGS
# =============================================================================

# Server host and port
HOST=0.0.0.0
PORT=8000

# Debug mode (MUST be false in production)
DEBUG=false

# =============================================================================
# CORS SETTINGS
# =============================================================================

# Allowed origins (comma-separated)
# IMPORTANT: Replace with your actual production frontend URL(s)
# Example: CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CORS_ORIGINS=https://yourdomain.com

# CORS credentials
CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# OPENAI SETTINGS
# =============================================================================

# Maximum retries for OpenAI API calls
OPENAI_MAX_RETRIES=3

# Timeout for OpenAI API calls (in seconds)
OPENAI_TIMEOUT=300

# =============================================================================
# FILE SETTINGS
# =============================================================================

# Directories for uploads and outputs
# In production, consider using cloud storage (S3, Azure Blob, etc.)
UPLOAD_DIR=./uploads
OUTPUT_DIR=./outputs

# Maximum file size in bytes
# Adjust based on your server capacity and requirements
# 500MB = 524288000 bytes
# 1GB = 1073741824 bytes
MAX_FILE_SIZE=524288000

# Allowed file extensions (comma-separated)
ALLOWED_EXTENSIONS=.mp4,.avi,.mov,.mkv,.webm

# =============================================================================
# DATABASE SETTINGS
# =============================================================================

# For production, use PostgreSQL instead of SQLite
# PostgreSQL provides better concurrency and performance
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/video_processing

# SQLite (only for small deployments)
# DATABASE_URL=sqlite+aiosqlite:///./video_processing.db

# =============================================================================
# RATE LIMITING
# =============================================================================

# Enable rate limiting (RECOMMENDED for production)
RATE_LIMIT_ENABLED=true

# Requests per minute per IP address
# Adjust based on your server capacity
RATE_LIMIT_PER_MINUTE=10

# =============================================================================
# LOGGING
# =============================================================================

# Log level: INFO or WARNING for production
LOG_LEVEL=INFO

# Log format: json for production (better for log aggregation)
LOG_FORMAT=json

# =============================================================================
# BACKGROUND TASKS
# =============================================================================

# Maximum number of background workers
# Adjust based on server CPU cores
MAX_WORKERS=4

